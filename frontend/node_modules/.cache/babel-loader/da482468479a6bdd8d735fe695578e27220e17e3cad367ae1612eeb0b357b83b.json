{"ast":null,"code":"var _jsxFileName = \"/home/ocmai/dev/mister_donut_quiz/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:3001';\nfunction App() {\n  _s();\n  const [quizList, setQuizList] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [answer, setAnswer] = useState('');\n  const [result, setResult] = useState('');\n  const [correctCount, setCorrectCount] = useState(0);\n  const [isQuizFinished, setIsQuizFinished] = useState(false);\n  useEffect(() => {\n    const API_URL = `${BASE_URL}/api/quiz`;\n    fetch(API_URL).then(res => res.json()).then(data => {\n      const shuffled = [...data].sort(() => Math.random() - 0.5);\n      setQuizList(shuffled);\n    });\n  }, []);\n  if (quizList.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 37\n  }, this);\n  const quiz = quizList[currentIndex];\n  const handleSubmit = e => {\n    e.preventDefault();\n    const normalize = str => str.trim().toLowerCase().replace(/[・\\s\\-ー＿]/g, '');\n    const isCorrect = normalize(answer) === normalize(quiz.answer);\n    setResult(isCorrect ? '正解！' : '不正解...正解は「' + quiz.answer + '」です');\n    if (isCorrect) {\n      setCorrectCount(prev => prev + 1);\n    }\n  };\n  const handleNext = () => {\n    if (currentIndex + 1 < quizList.length) {\n      setCurrentIndex(prev => prev + 1);\n      setAnswer('');\n      setResult('');\n    } else {\n      setIsQuizFinished(true); // 最後の問題が終わったら終了フラグ\n    }\n  };\n  const resetQuiz = () => {\n    const shuffled = [...quizList].sort(() => Math.random() - 0.5);\n    setQuizList(shuffled);\n    setCurrentIndex(0);\n    setAnswer('');\n    setResult('');\n    setCorrectCount(0);\n    setIsQuizFinished(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: isQuizFinished ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u30AF\\u30A4\\u30BA\\u7D42\\u4E86\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u3042\\u306A\\u305F\\u306E\\u6B63\\u89E3\\u6570\\u306F \", correctCount, \" / \", quizList.length, \" \\u554F\\u3067\\u3059\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), correctCount === quizList.length && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'gold',\n          fontWeight: 'bold'\n        },\n        children: \"\\uD83C\\uDF89\\u7D20\\u6674\\u3089\\u3057\\u3044\\uFF01\\u3042\\u306A\\u305F\\u306F\\u30DF\\u30B9\\u30C9\\u30DE\\u30B9\\u30BF\\u30FC\\u3067\\u3059\\uFF01\\uFF01\\uD83C\\uDF89\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetQuiz,\n        children: \"\\u3082\\u3046\\u4E00\\u5EA6\\u6311\\u6226\\u3059\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: quiz.question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `${BASE_URL}${quiz.image}`,\n        alt: \"quiz\",\n        width: \"300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: answer,\n          onChange: e => setAnswer(e.target.value),\n          disabled: !!result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !!result,\n          children: \"\\u56DE\\u7B54\\u3059\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), result && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNext,\n          children: \"\\u6B21\\u306E\\u554F\\u984C\\u3078\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u6B63\\u89E3\\u6570: \", correctCount, \" / \", quizList.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"7kTPXbno0kLBFVeo4RaxTDBMhG0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","BASE_URL","process","env","REACT_APP_API_BASE_URL","App","_s","quizList","setQuizList","currentIndex","setCurrentIndex","answer","setAnswer","result","setResult","correctCount","setCorrectCount","isQuizFinished","setIsQuizFinished","API_URL","fetch","then","res","json","data","shuffled","sort","Math","random","length","children","fileName","_jsxFileName","lineNumber","columnNumber","quiz","handleSubmit","e","preventDefault","normalize","str","trim","toLowerCase","replace","isCorrect","prev","handleNext","resetQuiz","className","style","color","fontWeight","onClick","question","src","image","alt","width","onSubmit","type","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["/home/ocmai/dev/mister_donut_quiz/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\n\r\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:3001';\r\n\r\nfunction App() {\r\n  const [quizList, setQuizList] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [answer, setAnswer] = useState('');\r\n  const [result, setResult] = useState('');\r\n  const [correctCount, setCorrectCount] = useState(0);\r\n  const [isQuizFinished, setIsQuizFinished] = useState(false);\r\n\r\nuseEffect(() => {\r\n    const API_URL = `${BASE_URL}/api/quiz`;\r\n\r\n    fetch(API_URL)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const shuffled = [...data].sort(() => Math.random() - 0.5);\r\n        setQuizList(shuffled);\r\n      });\r\n  }, []);\r\n\r\n  if (quizList.length === 0) return <div>Loading...</div>;\r\n\r\n  const quiz = quizList[currentIndex];\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const normalize = (str) =>\r\n    str.trim().toLowerCase().replace(/[・\\s\\-ー＿]/g, '');\r\n\r\n    const isCorrect = normalize(answer) === normalize(quiz.answer);\r\n    \r\n    setResult(isCorrect ? '正解！' : '不正解...正解は「'+ quiz.answer +'」です');\r\n    if (isCorrect) {\r\n    setCorrectCount(prev => prev + 1);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentIndex + 1 < quizList.length) {\r\n    setCurrentIndex(prev => prev + 1);\r\n    setAnswer('');\r\n    setResult('');\r\n    } else {\r\n    setIsQuizFinished(true); // 最後の問題が終わったら終了フラグ\r\n    }\r\n  };\r\n\r\n  const resetQuiz = () => {\r\n  const shuffled = [...quizList].sort(() => Math.random() - 0.5);\r\n  setQuizList(shuffled);\r\n  setCurrentIndex(0);\r\n  setAnswer('');\r\n  setResult('');\r\n  setCorrectCount(0);\r\n  setIsQuizFinished(false);\r\n};\r\n\r\n  return (\r\n    <div className=\"App\">\r\n    {isQuizFinished ? (\r\n      <div>\r\n        <h2>クイズ終了！</h2>\r\n        <p>あなたの正解数は {correctCount} / {quizList.length} 問です。</p>\r\n        {correctCount === quizList.length && (\r\n      　<p style={{ color: 'gold', fontWeight: 'bold' }}>🎉素晴らしい！あなたはミスドマスターです！！🎉</p>\r\n        )}\r\n        <button onClick={resetQuiz}>もう一度挑戦する</button>\r\n      </div>\r\n    ) : (\r\n      <>\r\n        <h2>{quiz.question}</h2>\r\n        <img src={`${BASE_URL}${quiz.image}`} alt=\"quiz\" width=\"300\" />\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            value={answer}\r\n            onChange={e => setAnswer(e.target.value)}\r\n            disabled={!!result}\r\n          />\r\n          <button type=\"submit\" disabled={!!result}>回答する</button>\r\n        </form>\r\n        {result && (\r\n          <>\r\n            <p>{result}</p>\r\n            <button onClick={handleNext}>次の問題へ</button>\r\n          </>\r\n        )}\r\n        <p>正解数: {correctCount} / {quizList.length}</p>\r\n      </>\r\n    )}\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}